{
    "name": "KOReader Plugin Dev",
    "image": "koreader/koappimage:latest",
    "workspaceFolder": "/workspace",
    "workspaceMount": "source=${localWorkspaceFolder},target=/workspace,type=bind",
    "forwardPorts": [
        5900
    ],
    "containerEnv": {
        "DISPLAY": ":99",
        "XDG_RUNTIME_DIR": "/tmp/runtime-ko"
    },
    "postCreateCommand": "sudo apt-get update && sudo apt-get install -y xvfb x11vnc && cd /workspace/koreader && ./kodev fetch-thirdparty",
    "customizations": {
        "vscode": {
            "extensions": [
                "sumneko.lua",
                "johnnymorganz.stylua",
                "LuaDA.luadap-vscode",
                "redhat.vscode-yaml"
            ],
            "settings": {
                "Lua.workspace.ignoreDir": [
                    "node_modules",
                    ".git",
                    "build",
                    "dist",
                    "base",
                    "koreader-emulator-aarch64-linux-gnu-debug/koreader"
                ]
            }
        }
    },
    "remoteUser": "ko",
    "overrideCommand": false
}